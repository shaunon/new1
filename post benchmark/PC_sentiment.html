<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Content Type Sentiment Analysis</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        h1, h2, h3 {
            color: #333;
        }

        .chart-section {
            display: flex;
            align-items: center;
            margin-bottom: 40px;
            gap: 20px;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }

        .data-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid #007bff;
            min-width: 280px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .data-card.positive {
            border-left-color: #28a745;
        }

        .data-card.negative {
            border-left-color: #dc3545;
        }

        .data-card.neutral {
            border-left-color: #6c757d;
        }

        .data-card.rate {
            border-left-color: #ffc107;
        }

        .data-card.views {
            border-left-color: #17a2b8;
        }

        .data-card-header {
            font-size: 14px;
            color: #6c757d;
            margin-bottom: 15px;
            text-transform: uppercase;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .metric-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .metric-row:last-child {
            margin-bottom: 0;
        }

        .metric-info {
            display: flex;
            flex-direction: column;
        }

        .metric-label {
            font-size: 12px;
            color: #6c757d;
            margin-bottom: 4px;
            text-transform: uppercase;
            font-weight: 500;
        }

        .metric-value {
            font-size: 24px;
            font-weight: 700;
            color: #2c3e50;
        }

        .metric-change {
            font-size: 14px;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 4px;
            white-space: nowrap;
        }

        .change-positive {
            color: #28a745;
            background-color: #d4edda;
        }

        .change-negative {
            color: #dc3545;
            background-color: #f8d7da;
        }

        .download-icon {
            cursor: pointer;
            color: #6c757d;
            font-size: 16px;
            padding: 5px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .download-icon:hover {
            color: #007bff;
            background-color: #f8f9fa;
        }

        .chart-container {
            flex: 1;
            height: 400px;
            position: relative;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .chart-title {
            font-size: 16px;
            font-weight: 600;
            color: #2c3e50;
        }

        .chart-download {
            cursor: pointer;
            color: #6c757d;
            font-size: 16px;
            padding: 5px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .chart-download:hover {
            color: #007bff;
            background-color: #f8f9fa;
        }

        .chart {
            width: 100%;
            height: 100%;
        }
        .radar-container {
            height: 500px;
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .table-container {
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            position: sticky;
            top: 0;
        }
        .sentiment-header {
            background-color: #e9ecef;
            font-weight: bold;
            text-align: center;
        }
        .metric-name {
            font-weight: bold;
        }
        .positive {
            color: #28a745;
        }
        .negative {
            color: #dc3545;
        }

        .engagement-header {
            background: #e8f5e8 !important;
            color: #388e3c !important;
            font-weight: 700;
            min-width: 100px;
        }

        .views-header {
            background: #ffebee !important;
            color: #d32f2f !important;
            font-weight: 700;
            min-width: 80px;
        }

        .rate-header {
            background: #fff3e0 !important;
            color: #f57c00 !important;
            font-weight: 700;
            min-width: 100px;
        }

        .sentiment-header {
            background: #e1f5fe !important;
            color: #0277bd !important;
            font-weight: 700;
            min-width: 120px;
        }

        .data-table td {
            padding: 12px;
            text-align: center;
            border: 1px solid #dee2e6;
            font-size: 14px;
            vertical-align: middle;
        }

        .data-table tbody tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        .data-table tbody tr:hover {
            background-color: #e3f2fd;
            transition: background-color 0.2s ease;
        }

        .content-type {
            font-weight: 600;
            color: #495057;
            text-align: left !important;
            padding-left: 20px !important;
        }

        .positive {
            color: #28a745;
            font-weight: 600;
        }

        .negative {
            color: #dc3545;
            font-weight: 600;
        }

        .neutral {
            color: #6c757d;
            font-weight: 600;
        }

        .number-cell {
            font-family: 'Courier New', monospace;
            font-weight: 500;
        }

        .percentage-cell {
            font-weight: 600;
        }

        .content-type-icon {
            margin-right: 8px;
            font-size: 16px;
        }

        .emotion-radar-container {
            height: 500px;
            margin-bottom: 40px;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }
    </style>
</head>
<body>
    <!-- Chart 1: Interaction Volume by Sentiment -->
    <div class="chart-section">
        <div class="data-card positive">
            <div class="data-card-header">
                Sentiment Analysis Overview
                <span class="download-icon" onclick="downloadData('sentiment-overview')" title="Download Data">ðŸ“¥</span>
            </div>
            <div class="metric-row">
                <div class="metric-info">
                    <div class="metric-label">Positive Sentiment</div>
                    <div class="metric-value">45.2%</div>
                </div>
                <div class="metric-change change-positive">â†‘ 3.1%</div>
            </div>
            <div class="metric-row">
                <div class="metric-info">
                    <div class="metric-label">Negative Sentiment</div>
                    <div class="metric-value">28.7%</div>
                </div>
                <div class="metric-change change-negative">â†“ 1.8%</div>
            </div>
            <div class="metric-row">
                <div class="metric-info">
                    <div class="metric-label">Neutral Sentiment</div>
                    <div class="metric-value">26.1%</div>
                </div>
                <div class="metric-change change-negative">â†“ 1.3%</div>
            </div>
        </div>
        <div class="chart-container">
            <div class="chart-header">
                <div class="chart-title">Interaction Volume by Content Type and Sentiment</div>
                <span class="chart-download" onclick="downloadChart('interactionChart')" title="Download Chart">ðŸ“Š</span>
            </div>
            <div id="interactionChart" class="chart"></div>
        </div>
    </div>

    <!-- Chart 2: Interaction Rate by Sentiment -->
    <div class="chart-section">
        <div class="data-card rate">
            <div class="data-card-header">
                Engagement Rate Analysis
                <span class="download-icon" onclick="downloadData('engagement-rate')" title="Download Data">ðŸ“¥</span>
            </div>
            <div class="metric-row">
                <div class="metric-info">
                    <div class="metric-label">Avg Engagement Rate</div>
                    <div class="metric-value">6.8%</div>
                </div>
                <div class="metric-change change-positive">â†‘ 0.5%</div>
            </div>
            <div class="metric-row">
                <div class="metric-info">
                    <div class="metric-label">Best Performing</div>
                    <div class="metric-value">Positive</div>
                </div>
                <div class="metric-change change-positive">â†‘ 12.3%</div>
            </div>
        </div>
        <div class="chart-container">
            <div class="chart-header">
                <div class="chart-title">Interaction Rate by Content Type and Sentiment</div>
                <span class="chart-download" onclick="downloadChart('interactionRateChart')" title="Download Chart">ðŸ“Š</span>
            </div>
            <div id="interactionRateChart" class="chart"></div>
        </div>
    </div>

    <!-- Chart 3: Views by Sentiment -->
    <div class="chart-section">
        <div class="data-card views">
            <div class="data-card-header">
                Views Analysis
                <span class="download-icon" onclick="downloadData('views-analysis')" title="Download Data">ðŸ“¥</span>
            </div>
            <div class="metric-row">
                <div class="metric-info">
                    <div class="metric-label">Total Views</div>
                    <div class="metric-value">45.2M</div>
                </div>
                <div class="metric-change change-positive">â†‘ 15.7%</div>
            </div>
            <div class="metric-row">
                <div class="metric-info">
                    <div class="metric-label">Top Sentiment</div>
                    <div class="metric-value">Positive</div>
                </div>
                <div class="metric-change change-positive">â†‘ 8.9%</div>
            </div>
        </div>
        <div class="chart-container">
            <div class="chart-header">
                <div class="chart-title">Views by Content Type and Sentiment</div>
                <span class="chart-download" onclick="downloadChart('viewsChart')" title="Download Chart">ðŸ“Š</span>
            </div>
            <div id="viewsChart" class="chart"></div>
        </div>
    </div>

    <!-- Chart 4: Post Count by Sentiment -->
    <div class="chart-section">
        <div class="data-card neutral">
            <div class="data-card-header">
                Content Volume Analysis
                <span class="download-icon" onclick="downloadData('content-volume')" title="Download Data">ðŸ“¥</span>
            </div>
            <div class="metric-row">
                <div class="metric-info">
                    <div class="metric-label">Total Posts</div>
                    <div class="metric-value">77.0K</div>
                </div>
                <div class="metric-change change-positive">â†‘ 12.5%</div>
            </div>
            <div class="metric-row">
                <div class="metric-info">
                    <div class="metric-label">Most Active Type</div>
                    <div class="metric-value">Entertainment</div>
                </div>
                <div class="metric-change change-positive">â†‘ 5.2%</div>
            </div>
        </div>
        <div class="chart-container">
            <div class="chart-header">
                <div class="chart-title">Post Count by Content Type and Sentiment</div>
                <span class="chart-download" onclick="downloadChart('postCountChart')" title="Download Chart">ðŸ“Š</span>
            </div>
            <div id="postCountChart" class="chart"></div>
        </div>
    </div>

    <!-- Emotion Radar Chart -->
    <div class="chart-section">
        <div class="data-card">
            <div class="data-card-header">
                Emotion Distribution
                <span class="download-icon" onclick="downloadData('emotion-distribution')" title="Download Data">ðŸ“¥</span>
            </div>
            <div class="metric-row">
                <div class="metric-info">
                    <div class="metric-label">Dominant Emotion</div>
                    <div class="metric-value">Joy</div>
                </div>
                <div class="metric-change change-positive">â†‘ 7.3%</div>
            </div>
            <div class="metric-row">
                <div class="metric-info">
                    <div class="metric-label">Secondary Emotion</div>
                    <div class="metric-value">Pleasure</div>
                </div>
                <div class="metric-change change-positive">â†‘ 2.1%</div>
            </div>
        </div>
        <div class="chart-container">
            <div class="chart-header">
                <div class="chart-title">Emotion Distribution by Content Type</div>
                <span class="chart-download" onclick="downloadChart('emotionRadarChart')" title="Download Chart">ðŸ“Š</span>
            </div>
            <div id="emotionRadarChart" class="chart"></div>
        </div>
    </div>
    
    <div class="table-container">
        <table id="metricsTable"></table>
    </div>

    <script>
        // Download functions
        function downloadData(type) {
            console.log('Downloading data for:', type);
            // Implementation for data download
        }

        function downloadChart(chartId) {
            console.log('Downloading chart:', chartId);
            // Implementation for chart download
        }
        // Define video duration categories
        const durationCategories = ['Entertainment', 'Education', 'Lifestyle', 'Technology', 'Fashion', 'Food', 'Travel', 'Sports', 'Music', 'Gaming'];
        
        // Define sentiment categories
        const sentiments = ['Positive', 'Negative', 'Neutral'];
        
        // Define emotion dimensions for radar chart
        const emotions = ['Joy', 'Pleasure', 'Sadness', 'Fear', 'Surprise', 'Anger'];
        
        // Generate sample data for demonstration
        function generateData() {
            const data = {};
            
            sentiments.forEach(sentiment => {
                data[sentiment] = {
                    interaction: [],
                    interactionRate: [],
                    views: [],
                    postCount: [],
                    percentages: {},
                    periodOverPeriod: {}
                };
                
                durationCategories.forEach((_, index) => {
                    // Generate random values for each metric
                    data[sentiment].interaction.push(Math.floor(Math.random() * 1000000) + 100000);
                    data[sentiment].interactionRate.push((Math.random() * 10 + 1).toFixed(2));
                    data[sentiment].views.push(Math.floor(Math.random() * 10000000) + 1000000);
                    data[sentiment].postCount.push(Math.floor(Math.random() * 10000) + 1000);
                });
                
                // Calculate percentages
                const totalInteraction = data[sentiment].interaction.reduce((a, b) => a + b, 0);
                const totalViews = data[sentiment].views.reduce((a, b) => a + b, 0);
                const totalPosts = data[sentiment].postCount.reduce((a, b) => a + b, 0);
                
                data[sentiment].percentages = {
                    interaction: data[sentiment].interaction.map(val => ((val / totalInteraction) * 100).toFixed(2)),
                    views: data[sentiment].views.map(val => ((val / totalViews) * 100).toFixed(2)),
                    postCount: data[sentiment].postCount.map(val => ((val / totalPosts) * 100).toFixed(2))
                };
                
                // Generate period-over-period changes (e.g., month-over-month)
                data[sentiment].periodOverPeriod = {
                    interaction: data[sentiment].interaction.map(() => ((Math.random() * 40) - 20).toFixed(2)),
                    interactionRate: data[sentiment].interactionRate.map(() => ((Math.random() * 40) - 20).toFixed(2)),
                    views: data[sentiment].views.map(() => ((Math.random() * 40) - 20).toFixed(2)),
                    postCount: data[sentiment].postCount.map(() => ((Math.random() * 40) - 20).toFixed(2))
                };
            });
            
            // Generate radar chart data for emotions across video durations
            const radarData = {};
            durationCategories.forEach(duration => {
                radarData[duration] = [];
                emotions.forEach(() => {
                    // Generate random percentage for each emotion dimension
                    radarData[duration].push(Math.floor(Math.random() * 100));
                });
            });
            
            return { sentimentData: data, radarData: radarData };
        }
        
        const { sentimentData, radarData } = generateData();
        
        // Initialize ECharts instances
        const interactionChart = echarts.init(document.getElementById('interactionChart'));
        const interactionRateChart = echarts.init(document.getElementById('interactionRateChart'));
        const viewsChart = echarts.init(document.getElementById('viewsChart'));
        const postCountChart = echarts.init(document.getElementById('postCountChart'));
        const emotionRadarChart = echarts.init(document.getElementById('emotionRadarChart'));
        
        // Prepare series data for each chart
        function prepareSeries(metricName) {
            return sentiments.map(sentiment => {
                return {
                    name: sentiment,
                    type: 'bar',
                    stack: 'total',
                    emphasis: {
                        focus: 'series'
                    },
                    data: sentimentData[sentiment][metricName]
                };
            });
        }
        
        // Chart options
        const interactionChartOption = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                data: sentiments
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'category',
                data: durationCategories
            },
            yAxis: {
                type: 'value',
                name: 'Interaction Volume'
            },
            series: prepareSeries('interaction')
        };
        
        const interactionRateChartOption = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                data: sentiments
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'category',
                data: durationCategories
            },
            yAxis: {
                type: 'value',
                name: 'Interaction Rate (%)'
            },
            series: prepareSeries('interactionRate')
        };
        
        const viewsChartOption = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                data: sentiments
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'category',
                data: durationCategories
            },
            yAxis: {
                type: 'value',
                name: 'Views'
            },
            series: prepareSeries('views')
        };
        
        const postCountChartOption = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                data: sentiments
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'category',
                data: durationCategories
            },
            yAxis: {
                type: 'value',
                name: 'Post Count'
            },
            series: prepareSeries('postCount')
        };
        
        // Prepare radar chart series
        const radarSeries = durationCategories.map(duration => {
            return {
                name: duration,
                type: 'radar',
                data: [
                    {
                        value: radarData[duration],
                        name: duration
                    }
                ]
            };
        });
        
        // Radar chart option
        const emotionRadarChartOption = {
            tooltip: {
                trigger: 'item'
            },
            legend: {
                type: 'scroll',
                bottom: 10,
                data: durationCategories
            },
            radar: {
                indicator: emotions.map(emotion => {
                    return { name: emotion, max: 100 };
                }),
                radius: '65%'
            },
            series: radarSeries
        };
        
        // Render charts
        interactionChart.setOption(interactionChartOption);
        interactionRateChart.setOption(interactionRateChartOption);
        viewsChart.setOption(viewsChartOption);
        postCountChart.setOption(postCountChartOption);
        emotionRadarChart.setOption(emotionRadarChartOption);
        
        // Create data table
        function createDataTable() {
            const table = document.getElementById('metricsTable');
            let html = '';
            
            // Header row with duration categories
            html += '<tr><th>Sentiment</th><th>Metric</th>';
            durationCategories.forEach(category => {
                html += `<th>${category}</th>`;
            });
            html += '<th>Total</th></tr>';
            
            // Data rows for each sentiment
            sentiments.forEach(sentiment => {
                // Sentiment header
                html += `<tr><td colspan="${durationCategories.length + 3}" class="sentiment-header">${sentiment}</td></tr>`;
                
                // Interaction Volume
                html += '<tr><td rowspan="3" class="metric-name">Interaction Volume</td><td>Value</td>';
                const totalInteraction = sentimentData[sentiment].interaction.reduce((a, b) => a + b, 0);
                sentimentData[sentiment].interaction.forEach(value => {
                    html += `<td>${value.toLocaleString()}</td>`;
                });
                html += `<td>${totalInteraction.toLocaleString()}</td></tr>`;
                
                // Interaction Volume Percentage
                html += '<tr><td>Percentage (%)</td>';
                sentimentData[sentiment].percentages.interaction.forEach(value => {
                    html += `<td>${value}%</td>`;
                });
                html += '<td>100%</td></tr>';
                
                // Interaction Volume Period-over-Period
                html += '<tr><td>Period-over-Period (%)</td>';
                sentimentData[sentiment].periodOverPeriod.interaction.forEach(value => {
                    const cellClass = parseFloat(value) >= 0 ? 'positive' : 'negative';
                    html += `<td class="${cellClass}">${value}%</td>`;
                });
                html += '<td>-</td></tr>';
                
                // Views
                html += '<tr><td rowspan="3" class="metric-name">Views</td><td>Value</td>';
                const totalViews = sentimentData[sentiment].views.reduce((a, b) => a + b, 0);
                sentimentData[sentiment].views.forEach(value => {
                    html += `<td>${value.toLocaleString()}</td>`;
                });
                html += `<td>${totalViews.toLocaleString()}</td></tr>`;
                
                // Views Percentage
                html += '<tr><td>Percentage (%)</td>';
                sentimentData[sentiment].percentages.views.forEach(value => {
                    html += `<td>${value}%</td>`;
                });
                html += '<td>100%</td></tr>';
                
                // Views Period-over-Period
                html += '<tr><td>Period-over-Period (%)</td>';
                sentimentData[sentiment].periodOverPeriod.views.forEach(value => {
                    const cellClass = parseFloat(value) >= 0 ? 'positive' : 'negative';
                    html += `<td class="${cellClass}">${value}%</td>`;
                });
                html += '<td>-</td></tr>';
                
                // Interaction Rate
                html += '<tr><td rowspan="2" class="metric-name">Interaction Rate (%)</td><td>Value</td>';
                sentimentData[sentiment].interactionRate.forEach(value => {
                    html += `<td>${value}%</td>`;
                });
                const avgInteractionRate = (sentimentData[sentiment].interactionRate.reduce((a, b) => parseFloat(a) + parseFloat(b), 0) / sentimentData[sentiment].interactionRate.length).toFixed(2);
                html += `<td>${avgInteractionRate}%</td></tr>`;
                
                // Interaction Rate Period-over-Period
                html += '<tr><td>Period-over-Period (%)</td>';
                sentimentData[sentiment].periodOverPeriod.interactionRate.forEach(value => {
                    const cellClass = parseFloat(value) >= 0 ? 'positive' : 'negative';
                    html += `<td class="${cellClass}">${value}%</td>`;
                });
                html += '<td>-</td></tr>';
                
                // Post Count
                html += '<tr><td rowspan="3" class="metric-name">Post Count</td><td>Value</td>';
                const totalPosts = sentimentData[sentiment].postCount.reduce((a, b) => a + b, 0);
                sentimentData[sentiment].postCount.forEach(value => {
                    html += `<td>${value.toLocaleString()}</td>`;
                });
                html += `<td>${totalPosts.toLocaleString()}</td></tr>`;
                
                // Post Count Percentage
                html += '<tr><td>Percentage (%)</td>';
                sentimentData[sentiment].percentages.postCount.forEach(value => {
                    html += `<td>${value}%</td>`;
                });
                html += '<td>100%</td></tr>';
                
                // Post Count Period-over-Period
                html += '<tr><td>Period-over-Period (%)</td>';
                sentimentData[sentiment].periodOverPeriod.postCount.forEach(value => {
                    const cellClass = parseFloat(value) >= 0 ? 'positive' : 'negative';
                    html += `<td class="${cellClass}">${value}%</td>`;
                });
                html += '<td>-</td></tr>';
            });
            
            table.innerHTML = html;
        }
        
        createDataTable();
        
        // Handle window resize
        window.addEventListener('resize', function() {
            interactionChart.resize();
            interactionRateChart.resize();
            viewsChart.resize();
            postCountChart.resize();
            emotionRadarChart.resize();
        });
    </script>
</body>
</html>