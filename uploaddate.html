<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Upload Analytics Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <script src="https://cdn.jsdelivr.net/npm/heatmap.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            width: 1900px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        .dashboard {
            display: grid;
            grid-template-columns: 60% 40%;
            grid-gap: 20px;
            margin-bottom: 30px;
        }
        .chart-container {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        .chart-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #444;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .data-table {
            margin-top: 30px;
        }
        #heatmap-container {
            width: 100%;
            height: 300px;
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <div class="chart-container">
            <div class="chart-title">Video Upload Trend (Line Chart)</div>
            <canvas id="lineChart" height="400"></canvas>
        </div>
        <div class="chart-container">
            <div class="chart-title">Cumulative Uploads (Area Chart)</div>
            <canvas id="areaChart" height="400"></canvas>
        </div>
    </div>
    
    <div class="chart-container">
        <div class="chart-title">Optimal Publishing Times (Calendar Heatmap)</div>
        <div id="heatmap-container"></div>
    </div>
    
    <div class="data-table">
        <h3>Sample Data (Last 14 Days)</h3>
        <table>
            <thead>
                <tr>
                    <th>Date/Time</th>
                    <th>Day of Week</th>
                    <th>Weekend/Weekday</th>
                    <th>Uploads</th>
                    <th>New Views</th>
                    <th>New Interactions</th>
                    <th>Views (1h)</th>
                    <th>Views (24h)</th>
                    <th>Peak Interaction Hour</th>
                    <th>WoW Growth</th>
                    <th>MoM Growth</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>2023-06-01 08:15</td>
                    <td>Thursday</td>
                    <td>Weekday</td>
                    <td>12</td>
                    <td>45,678</td>
                    <td>3,456</td>
                    <td>8,901</td>
                    <td>32,456</td>
                    <td>09:00</td>
                    <td>+12%</td>
                    <td>+8%</td>
                </tr>
                <tr>
                    <td>2023-06-02 17:30</td>
                    <td>Friday</td>
                    <td>Weekday</td>
                    <td>18</td>
                    <td>67,890</td>
                    <td>5,678</td>
                    <td>12,345</td>
                    <td>54,321</td>
                    <td>18:30</td>
                    <td>+15%</td>
                    <td>+22%</td>
                </tr>
                <tr>
                    <td>2023-06-03 11:45</td>
                    <td>Saturday</td>
                    <td>Weekend</td>
                    <td>24</td>
                    <td>89,012</td>
                    <td>7,890</td>
                    <td>23,456</td>
                    <td>76,543</td>
                    <td>12:30</td>
                    <td>+18%</td>
                    <td>+25%</td>
                </tr>
                <tr>
                    <td>2023-06-04 14:20</td>
                    <td>Sunday</td>
                    <td>Weekend</td>
                    <td>21</td>
                    <td>78,901</td>
                    <td>6,789</td>
                    <td>19,876</td>
                    <td>65,432</td>
                    <td>15:00</td>
                    <td>+9%</td>
                    <td>+17%</td>
                </tr>
                <tr>
                    <td>2023-06-05 09:10</td>
                    <td>Monday</td>
                    <td>Weekday</td>
                    <td>15</td>
                    <td>56,789</td>
                    <td>4,567</td>
                    <td>10,987</td>
                    <td>43,210</td>
                    <td>10:00</td>
                    <td>+5%</td>
                    <td>+12%</td>
                </tr>
                <tr>
                    <td>2023-06-06 13:25</td>
                    <td>Tuesday</td>
                    <td>Weekday</td>
                    <td>16</td>
                    <td>60,123</td>
                    <td>5,123</td>
                    <td>14,567</td>
                    <td>48,765</td>
                    <td>14:00</td>
                    <td>+7%</td>
                    <td>+14%</td>
                </tr>
                <tr>
                    <td>2023-06-07 20:05</td>
                    <td>Wednesday</td>
                    <td>Weekday</td>
                    <td>9</td>
                    <td>34,567</td>
                    <td>2,345</td>
                    <td>7,654</td>
                    <td>29,876</td>
                    <td>21:00</td>
                    <td>+3%</td>
                    <td>+5%</td>
                </tr>
                <tr>
                    <td>2023-06-08 07:50</td>
                    <td>Thursday</td>
                    <td>Weekday</td>
                    <td>14</td>
                    <td>52,345</td>
                    <td>4,321</td>
                    <td>9,876</td>
                    <td>41,234</td>
                    <td>08:30</td>
                    <td>+11%</td>
                    <td>+9%</td>
                </tr>
                <tr>
                    <td>2023-06-09 16:40</td>
                    <td>Friday</td>
                    <td>Weekday</td>
                    <td>19</td>
                    <td>71,234</td>
                    <td>6,543</td>
                    <td>18,765</td>
                    <td>59,876</td>
                    <td>17:30</td>
                    <td>+14%</td>
                    <td>+20%</td>
                </tr>
                <tr>
                    <td>2023-06-10 10:30</td>
                    <td>Saturday</td>
                    <td>Weekend</td>
                    <td>26</td>
                    <td>92,345</td>
                    <td>8,765</td>
                    <td>27,654</td>
                    <td>81,234</td>
                    <td>11:30</td>
                    <td>+20%</td>
                    <td>+28%</td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        // Line Chart Data
        const lineData = {
            labels: ['Jun 1', 'Jun 2', 'Jun 3', 'Jun 4', 'Jun 5', 'Jun 6', 'Jun 7', 'Jun 8', 'Jun 9', 'Jun 10'],
            datasets: [{
                label: 'Daily Uploads',
                data: [12, 18, 24, 21, 15, 16, 9, 14, 19, 26],
                borderColor: 'rgb(75, 192, 192)',
                tension: 0.1,
                fill: false
            }, {
                label: 'Daily Views (thousands)',
                data: [45.6, 67.8, 89.0, 78.9, 56.7, 60.1, 34.5, 52.3, 71.2, 92.3],
                borderColor: 'rgb(54, 162, 235)',
                tension: 0.1,
                fill: false,
                yAxisID: 'y1'
            }]
        };

        // Line Chart Config
        const lineConfig = {
            type: 'line',
            data: lineData,
            options: {
                responsive: true,
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
                plugins: {
                    title: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'Number of Uploads'
                        }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'Views (thousands)'
                        },
                        grid: {
                            drawOnChartArea: false
                        }
                    }
                }
            }
        };

        // Area Chart Data
        const areaData = {
            labels: ['Jun 1', 'Jun 2', 'Jun 3', 'Jun 4', 'Jun 5', 'Jun 6', 'Jun 7', 'Jun 8', 'Jun 9', 'Jun 10'],
            datasets: [{
                label: 'Cumulative Uploads',
                data: [12, 30, 54, 75, 90, 106, 115, 129, 148, 174],
                backgroundColor: 'rgba(153, 102, 255, 0.2)',
                borderColor: 'rgba(153, 102, 255, 1)',
                borderWidth: 2,
                fill: true
            }]
        };

        // Area Chart Config
        const areaConfig = {
            type: 'line',
            data: areaData,
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Total Uploads'
                        }
                    }
                }
            }
        };

        // Heatmap Data
        const heatmapData = {
            // Hours 0-23 as columns
            // Days Sunday-Saturday as rows
            data: [
                // Sun, Mon, Tue, Wed, Thu, Fri, Sat
                [5, 3, 7, 2, 4, 6, 9],    // 0:00
                [3, 2, 5, 1, 3, 4, 7],    // 1:00
                [2, 1, 3, 0, 2, 2, 5],    // 2:00
                [1, 0, 2, 0, 1, 1, 3],    // 3:00
                [2, 1, 3, 1, 2, 2, 4],    // 4:00
                [4, 3, 5, 2, 4, 5, 6],    // 5:00
                [7, 8, 9, 5, 7, 8, 10],   // 6:00
                [12, 15, 14, 8, 12, 13, 15], // 7:00
                [15, 18, 16, 10, 14, 16, 18], // 8:00
                [18, 20, 18, 12, 16, 18, 20], // 9:00
                [20, 22, 20, 15, 18, 20, 23], // 10:00
                [22, 20, 22, 18, 20, 22, 26], // 11:00
                [20, 18, 20, 16, 18, 20, 24], // 12:00
                [18, 16, 18, 14, 16, 18, 22], // 13:00
                [16, 14, 16, 12, 14, 16, 20], // 14:00
                [14, 12, 14, 10, 12, 14, 18], // 15:00
                [12, 10, 12, 8, 10, 12, 16], // 16:00
                [15, 12, 14, 10, 12, 19, 18], // 17:00
                [18, 15, 16, 12, 14, 18, 20], // 18:00
                [15, 12, 14, 10, 12, 16, 18], // 19:00
                [12, 10, 12, 8, 10, 14, 16], // 20:00
                [10, 8, 10, 6, 8, 12, 14], // 21:00
                [8, 6, 8, 4, 6, 10, 12],  // 22:00
                [6, 4, 6, 2, 4, 8, 10]    // 23:00
            ]
        };

        // Initialize Charts
        window.onload = function() {
            // Line Chart
            const lineCtx = document.getElementById('lineChart').getContext('2d');
            new Chart(lineCtx, lineConfig);

            // Area Chart
            const areaCtx = document.getElementById('areaChart').getContext('2d');
            new Chart(areaCtx, areaConfig);

            // Heatmap
            const heatmapContainer = document.getElementById('heatmap-container');
            heatmapContainer.innerHTML = '';
            const heatmapCanvas = document.createElement('canvas');
            heatmapContainer.appendChild(heatmapCanvas);
            
            const heatmapCtx = heatmapCanvas.getContext('2d');
            heatmapCanvas.width = heatmapContainer.offsetWidth;
            heatmapCanvas.height = heatmapContainer.offsetHeight;
            
            // Simple heatmap visualization using Chart.js
            const heatmapConfig = {
                type: 'bar',
                data: {
                    labels: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
                    datasets: Object.keys(heatmapData.data).map((hour, i) => ({
                        label: `${hour}:00`,
                        data: heatmapData.data[i],
                        backgroundColor: heatmapData.data[i].map(val => {
                            const opacity = Math.min(0.2 + val/30, 0.9);
                            return `rgba(255, 99, 132, ${opacity})`;
                        })
                    }))
                },
                options: {
                    responsive: true,
                    scales: {
                        x: {
                            stacked: true,
                        },
                        y: {
                            stacked: true,
                            title: {
                                display: true,
                                text: 'Number of Uploads'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                title: function(context) {
                                    return `${context[0].dataset.label}-${context[0].label}`;
                                },
                                label: function(context) {
                                    return `Uploads: ${context.raw}`;
                                }
                            }
                        }
                    }
                }
            };
            
            new Chart(heatmapCtx, heatmapConfig);
        };
    </script>
</body>
</html>
