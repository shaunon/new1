<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Duration Analysis</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@sgratzl/chartjs-chart-boxplot/build/index.umd.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f8f9fa;
            color: #333;
            margin: 0;
            padding: 20px 0;
        }
        .main-container {
            width: 1900px;
            margin: auto;
            background-color: #fff;
            padding: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border-radius: 8px;
        }
        .section {
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e9ecef;
        }
        .section:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        .section-title {
            font-size: 24px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .chart-container {
            display: flex;
            justify-content: space-between;
            gap: 30px;
            margin-top: 20px;
        }
        .main-chart-wrapper {
            width: 100%;
            height: 450px;
        }
        .sub-chart-wrapper {
            width: 50%;
            height: 400px;
        }
        .chart-title {
            font-size: 18px;
            font-weight: 500;
            color: #34495e;
            margin-bottom: 15px;
            text-align: center;
        }
        .data-table-container {
            margin-top: 25px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        th, td {
            border: 1px solid #dee2e6;
            padding: 12px 15px;
            text-align: left;
            vertical-align: middle;
        }
        thead th {
            background-color: #f2f2f2;
            color: #343a40;
            font-weight: 600;
            position: sticky;
            top: 0;
        }
        tbody tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        tbody tr:hover {
            background-color: #e9ecef;
        }
    </style>
</head>
<body>
        <div class="section">
            <div class="chart-container">
                 <div class="main-chart-wrapper">
                    <h3 class="chart-title">Main Chart: Histogram - Video Distribution by Length</h3>
                    <canvas id="histogramChart"></canvas>
                </div>
            </div>
            <div class="chart-container">
                <div class="sub-chart-wrapper">
                    <h3 class="chart-title">Auxiliary Chart 1: Box Plot - Video Length by Category</h3>
                    <canvas id="boxplotChart"></canvas>
                </div>
                <div class="sub-chart-wrapper">
                    <h3 class="chart-title">Auxiliary Chart 2: Line Chart - Engagement by Video Length</h3>
                    <canvas id="engagementChart"></canvas>
                </div>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">Key Data Table</h2>
            <div class="data-table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Video Length Range</th>
                            <th>Number of Videos</th>
                            <th>Percentage of Total</th>
                            <th>Avg. View Duration (s)</th>
                            <th>Avg. Completion Rate</th>
                            <th>Avg. Interaction Rate</th>
                            <th>Audience Retention (First 3s)</th>
                            <th>Audience Retention (at 50%)</th>
                            <th>Peak Interaction Time (s)</th>
                            <th>Skip Rate (%)</th>
                            <th>Avg. Comments</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>0-15s</td>
                            <td>1,250</td>
                            <td>35.7%</td>
                            <td>12</td>
                            <td>85.2%</td>
                            <td>8.5%</td>
                            <td>95.1%</td>
                            <td>90.3%</td>
                            <td>8</td>
                            <td>4.9%</td>
                            <td>15</td>
                        </tr>
                        <tr>
                            <td>16-30s</td>
                            <td>980</td>
                            <td>28.0%</td>
                            <td>22</td>
                            <td>75.6%</td>
                            <td>9.2%</td>
                            <td>92.5%</td>
                            <td>81.0%</td>
                            <td>18</td>
                            <td>7.5%</td>
                            <td>28</td>
                        </tr>
                        <tr>
                            <td>31-60s</td>
                            <td>720</td>
                            <td>20.6%</td>
                            <td>41</td>
                            <td>68.1%</td>
                            <td>10.1%</td>
                            <td>90.3%</td>
                            <td>72.5%</td>
                            <td>25</td>
                            <td>9.7%</td>
                            <td>45</td>
                        </tr>
                        <tr>
                            <td>1-3min</td>
                            <td>350</td>
                            <td>10.0%</td>
                            <td>95</td>
                            <td>55.3%</td>
                            <td>12.5%</td>
                            <td>88.0%</td>
                            <td>60.1%</td>
                            <td>45</td>
                            <td>12.0%</td>
                            <td>88</td>
                        </tr>
                        <tr>
                            <td>3-5min</td>
                            <td>110</td>
                            <td>3.1%</td>
                            <td>150</td>
                            <td>42.8%</td>
                            <td>11.8%</td>
                            <td>85.6%</td>
                            <td>48.2%</td>
                            <td>120</td>
                            <td>15.4%</td>
                            <td>110</td>
                        </tr>
                        <tr>
                            <td>5-10min</td>
                            <td>65</td>
                            <td>1.9%</td>
                            <td>240</td>
                            <td>35.5%</td>
                            <td>9.5%</td>
                            <td>82.1%</td>
                            <td>40.5%</td>
                            <td>180</td>
                            <td>18.9%</td>
                            <td>95</td>
                        </tr>
                        <tr>
                            <td>10-20min</td>
                            <td>15</td>
                            <td>0.4%</td>
                            <td>480</td>
                            <td>28.9%</td>
                            <td>8.2%</td>
                            <td>78.5%</td>
                            <td>33.0%</td>
                            <td>300</td>
                            <td>22.5%</td>
                            <td>72</td>
                        </tr>
                         <tr>
                            <td>20-30min</td>
                            <td>8</td>
                            <td>0.2%</td>
                            <td>720</td>
                            <td>21.0%</td>
                            <td>7.1%</td>
                            <td>75.0%</td>
                            <td>25.8%</td>
                            <td>450</td>
                            <td>28.0%</td>
                            <td>61</td>
                        </tr>
                        <tr>
                            <td>30-60min</td>
                            <td>3</td>
                            <td>0.1%</td>
                            <td>950</td>
                            <td>15.8%</td>
                            <td>6.5%</td>
                            <td>70.2%</td>
                            <td>19.3%</td>
                            <td>600</td>
                            <td>35.8%</td>
                            <td>55</td>
                        </tr>
                        <tr>
                            <td>>60min</td>
                            <td>1</td>
                            <td>0.03%</td>
                            <td>1200</td>
                            <td>9.5%</td>
                            <td>5.3%</td>
                            <td>65.8%</td>
                            <td>12.1%</td>
                            <td>980</td>
                            <td>45.2%</td>
                            <td>40</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const videoLengthLabels = ['0-15s', '16-30s', '31-60s', '1-3min', '3-5min', '5-10min', '10-20min', '20-30min', '30-60min', '>60min'];

            // 1. Histogram: Video Distribution by Length
            const histogramCtx = document.getElementById('histogramChart').getContext('2d');
            new Chart(histogramCtx, {
                type: 'bar',
                data: {
                    labels: videoLengthLabels,
                    datasets: [{
                        label: 'Number of Videos',
                        data: [1250, 980, 720, 350, 110, 65, 15, 8, 3, 1],
                        backgroundColor: 'rgba(54, 162, 235, 0.6)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'Number of Videos' }
                        },
                        x: {
                            title: { display: true, text: 'Video Length Range' }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });

            // 2. Box Plot: Video Length by Category (Sample Data)
            const boxplotCtx = document.getElementById('boxplotChart').getContext('2d');
            new Chart(boxplotCtx, {
                type: 'boxplot',
                data: {
                    labels: ['Vlog', 'Gaming', 'Tutorial', 'Music', 'News'],
                    datasets: [{
                        label: 'Video Length Distribution (seconds)',
                        data: [
                            [60, 120, 180, 240, 300, 450, 600, 900],      // Vlog
                            [300, 600, 900, 1200, 1800, 2400, 3600],    // Gaming
                            [180, 300, 450, 600, 750, 900, 1200, 1500], // Tutorial
                            [120, 150, 180, 210, 240, 270, 300, 330],    // Music
                            [30, 45, 60, 90, 120, 150, 180]             // News
                        ],
                        backgroundColor: 'rgba(255, 99, 132, 0.6)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            title: { display: true, text: 'Video Length (seconds)' }
                        },
                        x: {
                            title: { display: true, text: 'Video Category' }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });

            // 3. Line Chart: Engagement by Video Length
            const engagementCtx = document.getElementById('engagementChart').getContext('2d');
            new Chart(engagementCtx, {
                type: 'line',
                data: {
                    labels: videoLengthLabels,
                    datasets: [
                        {
                            label: 'Avg. Completion Rate (%)',
                            data: [85.2, 75.6, 68.1, 55.3, 42.8, 35.5, 28.9, 21.0, 15.8, 9.5],
                            borderColor: 'rgba(75, 192, 192, 1)',
                            backgroundColor: 'rgba(75, 192, 192, 0.2)',
                            yAxisID: 'y',
                            tension: 0.1
                        },
                        {
                            label: 'Avg. Interaction Rate (%)',
                            data: [8.5, 9.2, 10.1, 12.5, 11.8, 9.5, 8.2, 7.1, 6.5, 5.3],
                            borderColor: 'rgba(255, 159, 64, 1)',
                            backgroundColor: 'rgba(255, 159, 64, 0.2)',
                            yAxisID: 'y1',
                            tension: 0.1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false,
                    },
                    scales: {
                        y: {
                            type: 'linear',
                            position: 'left',
                            title: { display: true, text: 'Avg. Completion Rate (%)' }
                        },
                        y1: {
                            type: 'linear',
                            position: 'right',
                            title: { display: true, text: 'Avg. Interaction Rate (%)' },
                            grid: {
                                drawOnChartArea: false
                            }
                        },
                        x: {
                           title: { display: true, text: 'Video Length Range' }
                        }
                    },
                    plugins: {
                        legend: { position: 'top' }
                    }
                }
            });
        });
    </script>
</body>
</html>
